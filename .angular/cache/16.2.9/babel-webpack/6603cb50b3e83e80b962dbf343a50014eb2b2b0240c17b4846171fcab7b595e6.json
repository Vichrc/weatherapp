{"ast":null,"code":"import { Subject, takeUntil } from 'rxjs';\nimport { faMagnifyingGlass } from '@fortawesome/free-solid-svg-icons';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"./../../services/weather.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/forms\";\nimport * as i4 from \"@fortawesome/angular-fontawesome\";\nimport * as i5 from \"../../components/weather-card/weather-card.component\";\nfunction WeatherHomeComponent_app_weather_card_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"app-weather-card\", 7);\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"WeatherDatasImput\", ctx_r1.weatherDatas);\n  }\n}\nexport class WeatherHomeComponent {\n  constructor(WeatherService) {\n    this.WeatherService = WeatherService;\n    this.destroy$ = new Subject();\n    this.initialcityName = 'São Paulo';\n    this.searchIcon = faMagnifyingGlass;\n  }\n  ngOnInit() {\n    this.getweatherData(this.initialcityName);\n  }\n  getweatherData(cityName) {\n    this.WeatherService.getWeatherDatas(cityName).pipe(takeUntil(this.destroy$)).subscribe({\n      next: response => {\n        response && (this.weatherDatas = response);\n        console.log(this.weatherDatas);\n      },\n      error: error => console.log(error)\n    });\n  }\n  onSubmit() {\n    this.getweatherData(this.initialcityName);\n    this.initialcityName = '';\n  }\n  ngOnDestroy() {\n    this.destroy$.next();\n    this.destroy$.complete();\n  }\n  static #_ = this.ɵfac = function WeatherHomeComponent_Factory(t) {\n    return new (t || WeatherHomeComponent)(i0.ɵɵdirectiveInject(i1.WeatherService));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: WeatherHomeComponent,\n    selectors: [[\"app-weather-home\"]],\n    decls: 7,\n    vars: 3,\n    consts: [[1, \"search\"], [\"action\", \"\", 3, \"submit\"], [\"form\", \"ngForm\"], [\"type\", \"text\", \"placeholder\", \"Buscar Localiza\\u00E7\\u00E3o\", \"name\", \"city\", 3, \"ngModel\", \"ngModelChange\"], [3, \"click\"], [\"animation\", \"fade\", \"size\", \"lg\", 1, \"search-icon\", 2, \"--fa-animation-duration\", \"5s\", \"cursor\", \"pointer\", 3, \"icon\"], [3, \"WeatherDatasImput\", 4, \"ngIf\"], [3, \"WeatherDatasImput\"]],\n    template: function WeatherHomeComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"form\", 1, 2);\n        i0.ɵɵlistener(\"submit\", function WeatherHomeComponent_Template_form_submit_1_listener() {\n          return ctx.onSubmit();\n        });\n        i0.ɵɵelementStart(3, \"input\", 3);\n        i0.ɵɵlistener(\"ngModelChange\", function WeatherHomeComponent_Template_input_ngModelChange_3_listener($event) {\n          return ctx.initialcityName = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(4, \"span\", 4);\n        i0.ɵɵlistener(\"click\", function WeatherHomeComponent_Template_span_click_4_listener() {\n          return ctx.onSubmit();\n        });\n        i0.ɵɵelement(5, \"fa-icon\", 5);\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵtemplate(6, WeatherHomeComponent_app_weather_card_6_Template, 1, 1, \"app-weather-card\", 6);\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngModel\", ctx.initialcityName);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"icon\", ctx.searchIcon);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.weatherDatas);\n      }\n    },\n    dependencies: [i2.NgIf, i3.ɵNgNoValidate, i3.DefaultValueAccessor, i3.NgControlStatus, i3.NgControlStatusGroup, i3.NgModel, i3.NgForm, i4.FaIconComponent, i5.WeatherCardComponent],\n    encapsulation: 2\n  });\n}","map":{"version":3,"names":["Subject","takeUntil","faMagnifyingGlass","i0","ɵɵelement","ɵɵproperty","ctx_r1","weatherDatas","WeatherHomeComponent","constructor","WeatherService","destroy$","initialcityName","searchIcon","ngOnInit","getweatherData","cityName","getWeatherDatas","pipe","subscribe","next","response","console","log","error","onSubmit","ngOnDestroy","complete","_","ɵɵdirectiveInject","i1","_2","selectors","decls","vars","consts","template","WeatherHomeComponent_Template","rf","ctx","ɵɵelementStart","ɵɵlistener","WeatherHomeComponent_Template_form_submit_1_listener","WeatherHomeComponent_Template_input_ngModelChange_3_listener","$event","ɵɵelementEnd","WeatherHomeComponent_Template_span_click_4_listener","ɵɵtemplate","WeatherHomeComponent_app_weather_card_6_Template","ɵɵadvance"],"sources":["C:\\Users\\victo\\Desktop\\Academico\\Udemy\\Angular\\Curso Angular\\weather-app\\src\\app\\modules\\weather\\page\\weather-home\\weather-home.component.ts","C:\\Users\\victo\\Desktop\\Academico\\Udemy\\Angular\\Curso Angular\\weather-app\\src\\app\\modules\\weather\\page\\weather-home\\weather-home.component.html"],"sourcesContent":["import { WeatherDatas } from 'src/app/modules/models/interfaces/WeatherDatas';\nimport { WeatherService } from './../../services/weather.service';\nimport { Component, OnDestroy, OnInit } from '@angular/core';\nimport { Subject, takeUntil } from 'rxjs';\nimport { faMagnifyingGlass } from '@fortawesome/free-solid-svg-icons';\n\n@Component({\n  selector: 'app-weather-home',\n  templateUrl: './weather-home.component.html',\n  styleUrls: []\n})\nexport class WeatherHomeComponent implements OnInit, OnDestroy {\n  private readonly destroy$: Subject<void> = new Subject();\n  initialcityName = 'São Paulo';\n  weatherDatas!: WeatherDatas;\n  searchIcon = faMagnifyingGlass;\n\n  constructor(private WeatherService: WeatherService) {}\n\n  ngOnInit(): void {\n    this.getweatherData(this.initialcityName);\n  }\n\n  getweatherData(cityName: string):void{\n    this.WeatherService.getWeatherDatas(cityName)\n    .pipe(takeUntil(this.destroy$))\n    .subscribe({\n      next: (response) => {\n        response && (this.weatherDatas = response);\n        console.log(this.weatherDatas)\n      },\n      error: (error)=> console.log(error),\n    })\n  }\n\n  onSubmit(): void{\n    this.getweatherData(this.initialcityName);\n    this.initialcityName = '';\n  }\n\n  ngOnDestroy(): void {\n    this.destroy$.next();\n    this.destroy$.complete();\n  }\n}\n","<div class=\"search\">\n  <form action=\"\" #form=\"ngForm\" (submit)=\"onSubmit()\">\n      <input\n        type=\"text\"\n        placeholder=\"Buscar Localização\"\n        name=\"city\"\n        [(ngModel)]=\"initialcityName\"\n        />\n        <span (click)=\"onSubmit()\">\n          <fa-icon\n            animation=\"fade\"\n            style=\"--fa-animation-duration: 5s; cursor: pointer;\"\n            size=\"lg\"\n            class=\"search-icon\"\n            [icon]=\"searchIcon\"\n          ></fa-icon>\n        </span>\n  </form>\n</div>\n<app-weather-card *ngIf=\"weatherDatas\" [WeatherDatasImput]=\"weatherDatas\"></app-weather-card>\n\n"],"mappings":"AAGA,SAASA,OAAO,EAAEC,SAAS,QAAQ,MAAM;AACzC,SAASC,iBAAiB,QAAQ,mCAAmC;;;;;;;;;ICerEC,EAAA,CAAAC,SAAA,0BAA6F;;;;IAAtDD,EAAA,CAAAE,UAAA,sBAAAC,MAAA,CAAAC,YAAA,CAAkC;;;ADRzE,OAAM,MAAOC,oBAAoB;EAM/BC,YAAoBC,cAA8B;IAA9B,KAAAA,cAAc,GAAdA,cAAc;IALjB,KAAAC,QAAQ,GAAkB,IAAIX,OAAO,EAAE;IACxD,KAAAY,eAAe,GAAG,WAAW;IAE7B,KAAAC,UAAU,GAAGX,iBAAiB;EAEuB;EAErDY,QAAQA,CAAA;IACN,IAAI,CAACC,cAAc,CAAC,IAAI,CAACH,eAAe,CAAC;EAC3C;EAEAG,cAAcA,CAACC,QAAgB;IAC7B,IAAI,CAACN,cAAc,CAACO,eAAe,CAACD,QAAQ,CAAC,CAC5CE,IAAI,CAACjB,SAAS,CAAC,IAAI,CAACU,QAAQ,CAAC,CAAC,CAC9BQ,SAAS,CAAC;MACTC,IAAI,EAAGC,QAAQ,IAAI;QACjBA,QAAQ,KAAK,IAAI,CAACd,YAAY,GAAGc,QAAQ,CAAC;QAC1CC,OAAO,CAACC,GAAG,CAAC,IAAI,CAAChB,YAAY,CAAC;MAChC,CAAC;MACDiB,KAAK,EAAGA,KAAK,IAAIF,OAAO,CAACC,GAAG,CAACC,KAAK;KACnC,CAAC;EACJ;EAEAC,QAAQA,CAAA;IACN,IAAI,CAACV,cAAc,CAAC,IAAI,CAACH,eAAe,CAAC;IACzC,IAAI,CAACA,eAAe,GAAG,EAAE;EAC3B;EAEAc,WAAWA,CAAA;IACT,IAAI,CAACf,QAAQ,CAACS,IAAI,EAAE;IACpB,IAAI,CAACT,QAAQ,CAACgB,QAAQ,EAAE;EAC1B;EAAC,QAAAC,CAAA,G;qBAhCUpB,oBAAoB,EAAAL,EAAA,CAAA0B,iBAAA,CAAAC,EAAA,CAAApB,cAAA;EAAA;EAAA,QAAAqB,EAAA,G;UAApBvB,oBAAoB;IAAAwB,SAAA;IAAAC,KAAA;IAAAC,IAAA;IAAAC,MAAA;IAAAC,QAAA,WAAAC,8BAAAC,EAAA,EAAAC,GAAA;MAAA,IAAAD,EAAA;QCXjCnC,EAAA,CAAAqC,cAAA,aAAoB;QACarC,EAAA,CAAAsC,UAAA,oBAAAC,qDAAA;UAAA,OAAUH,GAAA,CAAAd,QAAA,EAAU;QAAA,EAAC;QAChDtB,EAAA,CAAAqC,cAAA,eAKI;QADFrC,EAAA,CAAAsC,UAAA,2BAAAE,6DAAAC,MAAA;UAAA,OAAAL,GAAA,CAAA3B,eAAA,GAAAgC,MAAA;QAAA,EAA6B;QAJ/BzC,EAAA,CAAA0C,YAAA,EAKI;QACF1C,EAAA,CAAAqC,cAAA,cAA2B;QAArBrC,EAAA,CAAAsC,UAAA,mBAAAK,oDAAA;UAAA,OAASP,GAAA,CAAAd,QAAA,EAAU;QAAA,EAAC;QACxBtB,EAAA,CAAAC,SAAA,iBAMW;QACbD,EAAA,CAAA0C,YAAA,EAAO;QAGf1C,EAAA,CAAA4C,UAAA,IAAAC,gDAAA,8BAA6F;;;QAbrF7C,EAAA,CAAA8C,SAAA,GAA6B;QAA7B9C,EAAA,CAAAE,UAAA,YAAAkC,GAAA,CAAA3B,eAAA,CAA6B;QAQzBT,EAAA,CAAA8C,SAAA,GAAmB;QAAnB9C,EAAA,CAAAE,UAAA,SAAAkC,GAAA,CAAA1B,UAAA,CAAmB;QAKZV,EAAA,CAAA8C,SAAA,GAAkB;QAAlB9C,EAAA,CAAAE,UAAA,SAAAkC,GAAA,CAAAhC,YAAA,CAAkB"},"metadata":{},"sourceType":"module","externalDependencies":[]}